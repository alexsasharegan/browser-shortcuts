'use strict';var _typeof='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&'function'==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?'symbol':typeof a},_createClass=function(){function a(b,c){for(var e,d=0;d<c.length;d++)e=c[d],e.enumerable=e.enumerable||!1,e.configurable=!0,'value'in e&&(e.writable=!0),Object.defineProperty(b,e.key,e)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}function _possibleConstructorReturn(a,b){if(!a)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return b&&('object'==typeof b||'function'==typeof b)?b:a}function _inherits(a,b){if('function'!=typeof b&&null!==b)throw new TypeError('Super expression must either be null or a function, not '+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}(function(a,b){'use strict';var c=require('@alexsasharegan/keycodes'),d=require('component-emitter'),e='__keydown',g=function(h){function j(){var k=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window;_classCallCheck(this,j);var l=_possibleConstructorReturn(this,(j.__proto__||Object.getPrototypeOf(j)).call(this));return l.handleKeyDown=l.handleKeyDown.bind(l),l.handleKeyUp=l.handleKeyUp.bind(l),l._keyMap={},l._shortcuts={},l.on(e,l.handleShortcuts),j.addEvents(k,{keydown:l.handleKeyDown,keyup:l.handleKeyUp}),l}return _inherits(j,h),_createClass(j,[{key:'handleKeyDown',value:function handleKeyDown(k){k.preventDefault();var l=c(k,!0);this._keyMap[l]=c(l),this.emit(e,k)}},{key:'handleKeyUp',value:function handleKeyUp(k){k.preventDefault();var l=c(k,!0);delete this._keyMap[l],this.emit('__keyup',k)}},{key:'handleShortcuts',value:function handleShortcuts(k){var l=this;Object.keys(this._shortcuts).forEach(function(m){for(var n=l._shortcuts[m],p=0;p<n.length;p++)if(!l.testKeyDown(n[p])){break}console.log({shouldFire:o,keymap:l._keyMap}),o&&l.emit(m,k)})}},{key:'createShortcut',value:function createShortcut(k,l){return this._shortcuts[k]=(Array.isArray(l)?l:l.split('+')).map(function(m){return c(m,!0)}),this}},{key:'testKeyDown',value:function testKeyDown(k){if(Array.isArray(k)){for(var m,l=0;l<k.length;l++)if(m=!!this._keyMap[k[l]],m)return m;return!1}return!!this._keyMap[k]}}],[{key:'addEvent',value:function addEvent(k,l,m){k.addEventListener?k.addEventListener((l+'').toLowerCase(),m,!1):k.attachEvent('on'+(l+'').toLowerCase(),m)}},{key:'addEvents',value:function addEvents(k){var l=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},m=function _loop(n){var o=l[n];'function'==typeof o?j.addEvent(k,n,o):o.forEach(function(p){return j.addEvent(k,n,p)})};for(var n in l)m(n)}},{key:'addEventOnce',value:function addEventOnce(k,l,m){function n(){return j.removeEvent(k,l,n),m.apply(this,arguments)}j.addEvent(k,l,n)}},{key:'removeEvent',value:function removeEvent(k,l,m){k.removeEventListener(l,m,!1)}}]),j}(d);return window.Shortcuts=g,a?module.exports=g:b&&(b.Shortcuts=g),g})('object'===('undefined'==typeof module?'undefined':_typeof(module))&&'object'===_typeof(module.exports),'undefined'==typeof window?null:window);
